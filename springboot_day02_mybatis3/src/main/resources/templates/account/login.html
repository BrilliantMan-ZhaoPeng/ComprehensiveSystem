<!DOCTYPE html>
<html>
<head th:include="~{account/fragments/header::header}">
   
</head>
<body>
<div class="container">
  <h2>Login</h2><p style="color:red" id="messageId"></p>
  <form id="formId">
    <div class="form-group">
      <label >用户名:</label>
      <input class="form-control" id="usernameId" placeholder="Enter Username" name="userName">
    </div>
    <div class="form-group">
      <label for="pwd">密码:</label>
      <input type="password" class="form-control" id="pwd" placeholder="Enter password" name="password">
    </div>
    <div class="form-check">
      <label class="form-check-label">
        <input class="form-check-input" type="checkbox" name="rememberMe"> 记住我
      </label>
    </div>
    <button type="button" class="btn btn-primary" id="btnId">提交</button>
  </form>
</div>
</body>
</html>
<script type="text/javascript">
<!--

//-->
$(document).on("click","#btnId",function(){
	var  form=$("#formId").serialize();
	$.ajax({
		url:'/shiro/doLogin',
		type:'POST',
		dataType:'JSON',
		data:form,
	    success:function(res){
	    	if(!res.flag){
	    		$("#messageId").text(res.message);
	    	}else{
                window.location.href="/shiro/"	    		
	    	}
	    },
	    error:function(){
	    	alert("失败了");
	    }
	})
})
</script>